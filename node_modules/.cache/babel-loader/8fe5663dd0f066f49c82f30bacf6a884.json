{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/103421/Desktop/sample-app1_20220224/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/103421/Desktop/sample-app1_20220224/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/103421/Desktop/sample-app1_20220224/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\103421\\\\Desktop\\\\sample-app1_20220224\\\\client\\\\src\\\\App.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport { AppBar, Toolbar, TextField, Typography, Button, Select, MenuItem } from '@material-ui/core';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport axios from 'axios';\nvar useStyles = makeStyles(function (t) {\n  return createStyles({\n    app: {},\n    toolbar: {},\n    title: {\n      margin: \"1em 1em 1em 0\",\n      flexGrow: 1\n    },\n    content: {\n      padding: \"2em 0em 1em 0em\",\n      backgroundColor: \"#F6F6F6\"\n    },\n    execButton: {\n      minWidth: \"6em\",\n      minHeight: \"3em\"\n    },\n    barButton: {\n      borderColor: t.palette.primary.contrastText,\n      color: t.palette.primary.contrastText\n    },\n    backdrop: {\n      zIndex: t.zIndex.drawer + 1,\n      color: '#fff'\n    },\n    attrAreaLine: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    commandArea: {\n      padding: \"0em 3em 1em 3em\",\n      margin: \"0 0em 0em 0em\"\n    },\n    execButtonMini: {\n      minWidth: \"4em\",\n      minHeight: \"2em\"\n    },\n    bottomSpace1: {\n      marginBottom: \"1em\"\n    },\n    bottomSpace1_5: {\n      marginBottom: \"1.5em\"\n    },\n    bottomSpace2: {\n      marginBottom: \"2em\"\n    },\n    bottomSpace3: {\n      marginBottom: \"3em\"\n    },\n    leftSpace1: {\n      marginLeft: \"2em\"\n    },\n    rightSpace1: {\n      marginRight: \"2em\"\n    }\n  });\n});\n\nfunction App() {\n  _s();\n\n  var c = useStyles();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userName = _useState4[0],\n      setUserName = _useState4[1];\n\n  var _useState5 = useState(\"name.last\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      userAttributeName = _useState6[0],\n      setUserAttributeName = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      userAttributeValue = _useState8[0],\n      setUserAttributeValue = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      mailSessionLess = _useState10[0],\n      setMailSessionLess = _useState10[1]; //const [notificationBody, setNotificationBody] = useState<string>(\"\");\n\n\n  var _useState11 = useState(\"event_A\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      qrLoginEventId = _useState12[0],\n      setQrLoginEventId = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      isLoading = _useState14[0],\n      setLoading = _useState14[1];\n\n  var getErrorMessageText = function getErrorMessageText(e) {\n    var _e$response, _e$response$data;\n\n    return function (d) {\n      return d ? \"\".concat(d, \" : \").concat(e) : \"\".concat(e);\n    }(e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.error);\n  };\n\n  var loading = function loading(execute, infinit) {\n    return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.prev = 1;\n              _context.next = 4;\n              return new Promise(function (r) {\n                return setTimeout(r, 200);\n              });\n\n            case 4:\n              _context.next = 6;\n              return execute();\n\n            case 6:\n              _context.prev = 6;\n\n              if (!infinit) {\n                setLoading(false);\n              }\n\n              return _context.finish(6);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1,, 6, 9]]);\n    }));\n  };\n\n  var onLogin = loading( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return axios.post(\"/api/authstart\", {}, {});\n\n          case 3:\n            res = _context2.sent;\n            window.location.href = res.data.auth_url;\n            _context2.next = 9;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 7]]);\n  })), true);\n\n  var clearLocalData = function clearLocalData() {\n    setUserName(null);\n  };\n\n  var onLogout = loading( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    var msg;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            msg = null;\n            _context3.prev = 1;\n            _context3.next = 4;\n            return axios.post(\"/api/logout\", {}, {});\n\n          case 4:\n            _context3.next = 8;\n            break;\n\n          case 6:\n            _context3.prev = 6;\n            _context3.t0 = _context3[\"catch\"](1);\n\n          case 8:\n            clearLocalData(); // updateMessageText(msg ? msg : \"Logout completed.\");\n\n          case 9:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[1, 6]]);\n  })));\n\n  var apiErrorAction = function apiErrorAction(err) {\n    var _err$response;\n\n    console.log(err);\n\n    if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) {\n      // 401 Unauthorized\n      clearLocalData(); // updateMessageText(\"ERROR : need to login again.\");\n    } else {// updateMessageText(getErrorMessageText(err));\n      }\n  };\n\n  var readAttribute = function readAttribute(attrName, settter) {\n    return loading( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var param, res, value;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              param = {\n                attr: attrName\n              };\n              _context4.next = 4;\n              return axios.post(\"/api/getUserAttribute\", param, {});\n\n            case 4:\n              res = _context4.sent;\n              value = res.data.result;\n              settter(value); // updateMessageText(`SUCCESS : get ${attrName} -> ${value}`);\n\n              _context4.next = 12;\n              break;\n\n            case 9:\n              _context4.prev = 9;\n              _context4.t0 = _context4[\"catch\"](0);\n              apiErrorAction(_context4.t0);\n\n            case 12:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 9]]);\n    })));\n  };\n\n  var writeAttribute = function writeAttribute(attrName, value, settter) {\n    return loading( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      var param, res, resultValue;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              param = {\n                attr: attrName,\n                value: value\n              };\n              _context5.next = 4;\n              return axios.post(\"/api/setUserAttribute\", param, {});\n\n            case 4:\n              res = _context5.sent;\n              resultValue = res.data.result;\n              settter(resultValue); // updateMessageText(`SUCCESS : set ${attrName} -> ${value} -> ${resultValue}`);\n\n              _context5.next = 12;\n              break;\n\n            case 9:\n              _context5.prev = 9;\n              _context5.t0 = _context5[\"catch\"](0);\n              apiErrorAction(_context5.t0);\n\n            case 12:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 9]]);\n    })));\n  };\n\n  var onReadUserAttributeAt = loading( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return readAttribute(userAttributeName || \"\", setUserAttributeValue)();\n\n          case 3:\n            _context6.next = 8;\n            break;\n\n          case 5:\n            _context6.prev = 5;\n            _context6.t0 = _context6[\"catch\"](0);\n            apiErrorAction(_context6.t0);\n\n          case 8:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6, null, [[0, 5]]);\n  })));\n  var onWriteUserAttributeAt = loading( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.prev = 0;\n            _context7.next = 3;\n            return writeAttribute(userAttributeName || \"\", userAttributeValue, setUserAttributeValue)();\n\n          case 3:\n            _context7.next = 8;\n            break;\n\n          case 5:\n            _context7.prev = 5;\n            _context7.t0 = _context7[\"catch\"](0);\n            apiErrorAction(_context7.t0);\n\n          case 8:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7, null, [[0, 5]]);\n  })));\n  var onSendQrLoginMail = loading( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n    var param, res;\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.prev = 0;\n            param = {\n              key: qrLoginEventId\n            };\n            _context8.next = 4;\n            return axios.post(\"/api/sendQrLoginMail\", param, {});\n\n          case 4:\n            res = _context8.sent;\n            _context8.next = 10;\n            break;\n\n          case 7:\n            _context8.prev = 7;\n            _context8.t0 = _context8[\"catch\"](0);\n            apiErrorAction(_context8.t0);\n\n          case 10:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8, null, [[0, 7]]);\n  })));\n\n  var onOpenQrLoginPage = function onOpenQrLoginPage() {\n    window.open(\"/qrlogin\");\n  };\n\n  var onUserSetting = function onUserSetting() {};\n\n  var onDebugPage = function onDebugPage() {\n    window.open(\"/debug/notification/list\");\n  };\n\n  useEffect(function () {\n    document.title = process.env.REACT_APP_APPLICATION_NAME_SHORT || \"\";\n    loading( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n      var _res$data, res, _res$data2;\n\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.prev = 0;\n              _context9.next = 3;\n              return axios.post(\"/api/status\", {}, {});\n\n            case 3:\n              res = _context9.sent;\n\n              if (((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.login) === true) {\n                setUserName((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.name);\n              }\n\n              _context9.next = 10;\n              break;\n\n            case 7:\n              _context9.prev = 7;\n              _context9.t0 = _context9[\"catch\"](0);\n              apiErrorAction(_context9.t0);\n\n            case 10:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9, null, [[0, 7]]);\n    })))(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: c.app,\n      children: [/*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"static\",\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          className: c.toolbar,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            className: c.title,\n            children: process.env.REACT_APP_APPLICATION_NAME\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: c.content,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: [c.attrAreaLine, c.commandArea].join(\" \"),\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            id: \"user_name\",\n            style: {\n              width: \"26em\"\n            },\n            autoComplete: \"off\",\n            InputLabelProps: {\n              shrink: true\n            },\n            InputProps: {\n              readOnly: true\n            },\n            value: userName || \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\u69D8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            className: [c.execButton, c.leftSpace1].join(\" \"),\n            onClick: onLogin,\n            disabled: userName !== null,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: [c.attrAreaLine, c.commandArea].join(\" \"),\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            className: [c.bottomSpace1].join(\" \"),\n            fullWidth: true,\n            autoComplete: \"off\",\n            InputLabelProps: {\n              shrink: true\n            },\n            InputProps: {\n              readOnly: false\n            },\n            variant: \"outlined\",\n            value: userAttributeValue || \"\",\n            onChange: function onChange(e) {\n              return setUserAttributeValue(\"temperature\");\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            color: \"primary\",\n            children: \"\\u2103\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: [c.commandArea].join(\" \"),\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            className: [c.execButton, c.leftSpace1].join(\" \"),\n            onClick: onWriteUserAttributeAt,\n            children: \"\\u4F53\\u6E29\\u8A18\\u9332\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: [c.commandArea].join(\" \"),\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            style: {\n              width: \"12em\"\n            },\n            variant: \"outlined\",\n            value: qrLoginEventId,\n            onChange: function onChange(e) {\n              return setQrLoginEventId(String(e.target.value));\n            },\n            children: /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"event_A\",\n              children: \"\\u30C6\\u30B9\\u30C8\\u30A4\\u30D9\\u30F3\\u30C8A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            className: [c.execButton, c.leftSpace1].join(\" \"),\n            onClick: onSendQrLoginMail,\n            children: \"QR\\u30ED\\u30B0\\u30A4\\u30F3\\u30E1\\u30FC\\u30EB\\u9001\\u4FE1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            className: [c.execButton, c.leftSpace1].join(\" \"),\n            onClick: onOpenQrLoginPage,\n            children: \"QR\\u30ED\\u30B0\\u30A4\\u30F3\\u753B\\u9762\\u3092\\u958B\\u304F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: [c.attrAreaLine, c.commandArea].join(\" \"),\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            className: [c.execButton, c.leftSpace1].join(\" \"),\n            onClick: onLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Backdrop, {\n      className: c.backdrop,\n      open: isLoading,\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"inherit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"WoI90wIBg/puY8fhSRRTsfY7cxY=\", false, function () {\n  return [useStyles];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/103421/Desktop/sample-app1_20220224/client/src/App.tsx"],"names":["React","useState","useEffect","makeStyles","createStyles","AppBar","Toolbar","TextField","Typography","Button","Select","MenuItem","Backdrop","CircularProgress","axios","useStyles","t","app","toolbar","title","margin","flexGrow","content","padding","backgroundColor","execButton","minWidth","minHeight","barButton","borderColor","palette","primary","contrastText","color","backdrop","zIndex","drawer","attrAreaLine","display","alignItems","commandArea","execButtonMini","bottomSpace1","marginBottom","bottomSpace1_5","bottomSpace2","bottomSpace3","leftSpace1","marginLeft","rightSpace1","marginRight","App","c","message","setMessage","userName","setUserName","userAttributeName","setUserAttributeName","userAttributeValue","setUserAttributeValue","mailSessionLess","setMailSessionLess","qrLoginEventId","setQrLoginEventId","isLoading","setLoading","getErrorMessageText","e","d","response","data","error","loading","execute","infinit","Promise","r","setTimeout","onLogin","post","res","window","location","href","auth_url","clearLocalData","onLogout","msg","apiErrorAction","err","console","log","status","readAttribute","attrName","settter","param","attr","value","result","writeAttribute","resultValue","onReadUserAttributeAt","onWriteUserAttributeAt","onSendQrLoginMail","key","onOpenQrLoginPage","open","onUserSetting","onDebugPage","document","process","env","REACT_APP_APPLICATION_NAME_SHORT","login","name","REACT_APP_APPLICATION_NAME","join","width","shrink","readOnly","String","target"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAgD,0BAAhD;AACA,SAASC,MAAT,EAAiBC,OAAjB,EAA0BC,SAA1B,EAAqCC,UAArC,EAAiDC,MAAjD,EAAyDC,MAAzD,EAAiEC,QAAjE,QAAwH,mBAAxH;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,IAAMC,SAAS,GAAGZ,UAAU,CAAC,UAACa,CAAD;AAAA,SAAcZ,YAAY,CAAC;AACvDa,IAAAA,GAAG,EAAE,EADkD;AAEvDC,IAAAA,OAAO,EAAE,EAF8C;AAGvDC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE,eAAV;AAA2BC,MAAAA,QAAQ,EAAE;AAArC,KAHgD;AAIvDC,IAAAA,OAAO,EAAE;AAAEC,MAAAA,OAAO,EAAE,iBAAX;AAA8BC,MAAAA,eAAe,EAAE;AAA/C,KAJ8C;AAKvDC,IAAAA,UAAU,EAAE;AAAEC,MAAAA,QAAQ,EAAE,KAAZ;AAAmBC,MAAAA,SAAS,EAAE;AAA9B,KAL2C;AAMvDC,IAAAA,SAAS,EAAE;AAAEC,MAAAA,WAAW,EAAEb,CAAC,CAACc,OAAF,CAAUC,OAAV,CAAkBC,YAAjC;AAA+CC,MAAAA,KAAK,EAAEjB,CAAC,CAACc,OAAF,CAAUC,OAAV,CAAkBC;AAAxE,KAN4C;AAOvDE,IAAAA,QAAQ,EAAE;AAAEC,MAAAA,MAAM,EAAEnB,CAAC,CAACmB,MAAF,CAASC,MAAT,GAAkB,CAA5B;AAA+BH,MAAAA,KAAK,EAAE;AAAtC,KAP6C;AAQvDI,IAAAA,YAAY,EAAE;AAAEC,MAAAA,OAAO,EAAE,MAAX;AAAmBC,MAAAA,UAAU,EAAE;AAA/B,KARyC;AASvDC,IAAAA,WAAW,EAAE;AAACjB,MAAAA,OAAO,EAAE,iBAAV;AAA6BH,MAAAA,MAAM,EAAE;AAArC,KAT0C;AAUvDqB,IAAAA,cAAc,EAAE;AAAEf,MAAAA,QAAQ,EAAE,KAAZ;AAAmBC,MAAAA,SAAS,EAAE;AAA9B,KAVuC;AAWvDe,IAAAA,YAAY,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB,KAXyC;AAYvDC,IAAAA,cAAc,EAAE;AAAED,MAAAA,YAAY,EAAE;AAAhB,KAZuC;AAavDE,IAAAA,YAAY,EAAE;AAAEF,MAAAA,YAAY,EAAE;AAAhB,KAbyC;AAcvDG,IAAAA,YAAY,EAAE;AAAEH,MAAAA,YAAY,EAAE;AAAhB,KAdyC;AAevDI,IAAAA,UAAU,EAAE;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAf2C;AAgBvDC,IAAAA,WAAW,EAAE;AAAEC,MAAAA,WAAW,EAAE;AAAf;AAhB0C,GAAD,CAA1B;AAAA,CAAD,CAA5B;;AAmBA,SAASC,GAAT,GAAe;AAAA;;AACd,MAAMC,CAAC,GAAGrC,SAAS,EAAnB;;AADc,kBAEgBd,QAAQ,CAAC,EAAD,CAFxB;AAAA;AAAA,MAEPoD,OAFO;AAAA,MAEEC,UAFF;;AAAA,mBAGkBrD,QAAQ,CAAgB,IAAhB,CAH1B;AAAA;AAAA,MAGPsD,QAHO;AAAA,MAGGC,WAHH;;AAAA,mBAIoCvD,QAAQ,CAAS,WAAT,CAJ5C;AAAA;AAAA,MAIPwD,iBAJO;AAAA,MAIYC,oBAJZ;;AAAA,mBAKsCzD,QAAQ,CAAgB,IAAhB,CAL9C;AAAA;AAAA,MAKP0D,kBALO;AAAA,MAKaC,qBALb;;AAAA,mBAMgC3D,QAAQ,CAAU,KAAV,CANxC;AAAA;AAAA,MAMP4D,eANO;AAAA,MAMUC,kBANV,mBAOd;;;AAPc,oBAQ8B7D,QAAQ,CAAS,SAAT,CARtC;AAAA;AAAA,MAQP8D,cARO;AAAA,MAQSC,iBART;;AAAA,oBASkB/D,QAAQ,CAAC,KAAD,CAT1B;AAAA;AAAA,MASPgE,SATO;AAAA,MASIC,UATJ;;AAWd,MAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,CAAD,EAAY;AAAA;;AACvC,WAAQ,UAAAC,CAAC;AAAA,aAAIA,CAAC,aAAMA,CAAN,gBAAaD,CAAb,cAAsBA,CAAtB,CAAL;AAAA,KAAF,CAAkCA,CAAlC,aAAkCA,CAAlC,sCAAkCA,CAAC,CAAEE,QAArC,oEAAkC,YAAaC,IAA/C,qDAAkC,iBAAmBC,KAArD,CAAP;AACA,GAFD;;AAIA,MAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,OAAD,EAAsBC,OAAtB,EAA0D;AACzE,iFAAO;AAAA;AAAA;AAAA;AAAA;AACNT,cAAAA,UAAU,CAAC,IAAD,CAAV;AADM;AAAA;AAAA,qBAGC,IAAIU,OAAJ,CAAY,UAAAC,CAAC;AAAA,uBAAIC,UAAU,CAACD,CAAD,EAAI,GAAJ,CAAd;AAAA,eAAb,CAHD;;AAAA;AAAA;AAAA,qBAICH,OAAO,EAJR;;AAAA;AAAA;;AAOL,kBAAI,CAACC,OAAL,EAAc;AACbT,gBAAAA,UAAU,CAAC,KAAD,CAAV;AACA;;AATI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AAYA,GAbD;;AAeA,MAAMa,OAAO,GAAGN,OAAO,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEJ3D,KAAK,CAACkE,IAAN,CAAW,gBAAX,EAA6B,EAA7B,EAAiC,EAAjC,CAFI;;AAAA;AAEhBC,YAAAA,GAFgB;AAGtBC,YAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBH,GAAG,CAACV,IAAJ,CAASc,QAAhC;AAHsB;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAQpB,IARoB,CAAvB;;AAUA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC5B9B,IAAAA,WAAW,CAAC,IAAD,CAAX;AACA,GAFD;;AAIA,MAAM+B,QAAQ,GAAGd,OAAO,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AACpBe,YAAAA,GADoB,GACd,IADc;AAAA;AAAA;AAAA,mBAIjB1E,KAAK,CAACkE,IAAN,CAAW,aAAX,EAA0B,EAA1B,EAA8B,EAA9B,CAJiB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AASxBM,YAAAA,cAAc,GATU,CAUxB;;AAVwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,GAAxB;;AAaA,MAAMG,cAAc,GAAG,SAAjBA,cAAiB,CAACC,GAAD,EAAc;AAAA;;AACpCC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,QAAI,kBAAAA,GAAG,CAACpB,QAAJ,gEAAcuB,MAAd,MAAyB,GAA7B,EAAkC;AAAE;AACnCP,MAAAA,cAAc,GADmB,CAEjC;AACA,KAHD,MAIK,CACJ;AACA;AACD,GATD;;AAWA,MAAMQ,aAAa,GAAG,SAAhBA,aAAgB,CAACC,QAAD,EAAmBC,OAAnB,EAAkE;AAAE,WAAOvB,OAAO,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEjGwB,cAAAA,KAFiG,GAEzF;AAAEC,gBAAAA,IAAI,EAAEH;AAAR,eAFyF;AAAA;AAAA,qBAGrFjF,KAAK,CAACkE,IAAN,CAAW,uBAAX,EAAoCiB,KAApC,EAA2C,EAA3C,CAHqF;;AAAA;AAGjGhB,cAAAA,GAHiG;AAIjGkB,cAAAA,KAJiG,GAIzFlB,GAAG,CAACV,IAAJ,CAAS6B,MAJgF;AAKvGJ,cAAAA,OAAO,CAACG,KAAD,CAAP,CALuG,CAMvG;;AANuG;AAAA;;AAAA;AAAA;AAAA;AASvGV,cAAAA,cAAc,cAAd;;AATuG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAd;AAWvF,GAXH;;AAaA,MAAMY,cAAc,GAAG,SAAjBA,cAAiB,CAACN,QAAD,EAAmBI,KAAnB,EAAyCH,OAAzC,EAAwF;AAAE,WAAOvB,OAAO,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAExHwB,cAAAA,KAFwH,GAEhH;AAAEC,gBAAAA,IAAI,EAAEH,QAAR;AAAkBI,gBAAAA,KAAK,EAAEA;AAAzB,eAFgH;AAAA;AAAA,qBAG5GrF,KAAK,CAACkE,IAAN,CAAW,uBAAX,EAAoCiB,KAApC,EAA2C,EAA3C,CAH4G;;AAAA;AAGxHhB,cAAAA,GAHwH;AAIxHqB,cAAAA,WAJwH,GAI1GrB,GAAG,CAACV,IAAJ,CAAS6B,MAJiG;AAK9HJ,cAAAA,OAAO,CAACM,WAAD,CAAP,CAL8H,CAM9H;;AAN8H;AAAA;;AAAA;AAAA;AAAA;AAS9Hb,cAAAA,cAAc,cAAd;;AAT8H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAd;AAW9G,GAXH;;AAaA,MAAMc,qBAAqB,GAAG9B,OAAO,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAE9BqB,aAAa,CAACrC,iBAAiB,IAAI,EAAtB,EAA0BG,qBAA1B,CAAb,EAF8B;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAKpC6B,YAAAA,cAAc,cAAd;;AALoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,GAArC;AASA,MAAMe,sBAAsB,GAAG/B,OAAO,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAE/B4B,cAAc,CAAC5C,iBAAiB,IAAI,EAAtB,EAA0BE,kBAA1B,EAA8CC,qBAA9C,CAAd,EAF+B;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAKrC6B,YAAAA,cAAc,cAAd;;AALqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,GAAtC;AASA,MAAMgB,iBAAiB,GAAGhC,OAAO,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAE1BwB,YAAAA,KAF0B,GAElB;AAAES,cAAAA,GAAG,EAAE3C;AAAP,aAFkB;AAAA;AAAA,mBAGdjD,KAAK,CAACkE,IAAN,CAAW,sBAAX,EAAmCiB,KAAnC,EAA0C,EAA1C,CAHc;;AAAA;AAG1BhB,YAAAA,GAH0B;AAAA;AAAA;;AAAA;AAAA;AAAA;AAOhCQ,YAAAA,cAAc,cAAd;;AAPgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,GAAjC;;AAWA,MAAMkB,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC/BzB,IAAAA,MAAM,CAAC0B,IAAP,CAAY,UAAZ;AACA,GAFD;;AAIA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM,CAC3B,CADD;;AAGA,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACzB5B,IAAAA,MAAM,CAAC0B,IAAP,CAAY,0BAAZ;AACA,GAFD;;AAIA1G,EAAAA,SAAS,CAAC,YAAM;AACf6G,IAAAA,QAAQ,CAAC5F,KAAT,GAAiB6F,OAAO,CAACC,GAAR,CAAYC,gCAAZ,IAAgD,EAAjE;AAEAzC,IAAAA,OAAO,wEAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEY3D,KAAK,CAACkE,IAAN,CAAW,aAAX,EAA0B,EAA1B,EAA8B,EAA9B,CAFZ;;AAAA;AAEAC,cAAAA,GAFA;;AAIN,kBAAI,cAAAA,GAAG,CAACV,IAAJ,wDAAU4C,KAAV,MAAoB,IAAxB,EAA8B;AAC7B3D,gBAAAA,WAAW,eAACyB,GAAG,CAACV,IAAL,+CAAC,WAAU6C,IAAX,CAAX;AACA;;AANK;AAAA;;AAAA;AAAA;AAAA;AASN3B,cAAAA,cAAc,cAAd;;AATM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,GAAP,GAHe,CAehB;AACC,GAhBQ,EAgBN,EAhBM,CAAT;AAkBA,sBACC;AAAA,4BACC;AAAK,MAAA,SAAS,EAAErC,CAAC,CAACnC,GAAlB;AAAA,8BACC,QAAC,MAAD;AAAQ,QAAA,QAAQ,EAAC,QAAjB;AAAA,+BACC,QAAC,OAAD;AAAS,UAAA,SAAS,EAAEmC,CAAC,CAAClC,OAAtB;AAAA,iCACC,QAAC,UAAD;AAAY,YAAA,OAAO,EAAC,IAApB;AAAyB,YAAA,SAAS,EAAEkC,CAAC,CAACjC,KAAtC;AAAA,sBAA8C6F,OAAO,CAACC,GAAR,CAAYI;AAA1D;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cADD,eAMC;AAAK,QAAA,SAAS,EAAEjE,CAAC,CAAC9B,OAAlB;AAAA,gCACC;AAAK,UAAA,SAAS,EAAE,CAAC8B,CAAC,CAACf,YAAH,EAAiBe,CAAC,CAACZ,WAAnB,EAAgC8E,IAAhC,CAAqC,GAArC,CAAhB;AAAA,kCACC,QAAC,SAAD;AAAW,YAAA,EAAE,EAAC,WAAd;AAA0B,YAAA,KAAK,EAAE;AAACC,cAAAA,KAAK,EAAE;AAAR,aAAjC;AAAkD,YAAA,YAAY,EAAC,KAA/D;AAAqE,YAAA,eAAe,EAAE;AAACC,cAAAA,MAAM,EAAE;AAAT,aAAtF;AAAsG,YAAA,UAAU,EAAE;AAACC,cAAAA,QAAQ,EAAE;AAAX,aAAlH;AAAqI,YAAA,KAAK,EAAElE,QAAQ,IAAI;AAAxJ;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD,eAGC,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,WAAhB;AAA4B,YAAA,KAAK,EAAC,SAAlC;AAA4C,YAAA,SAAS,EAAE,CAACH,CAAC,CAAC3B,UAAH,EAAe2B,CAAC,CAACL,UAAjB,EAA6BuE,IAA7B,CAAkC,GAAlC,CAAvD;AAA+F,YAAA,OAAO,EAAEvC,OAAxG;AAAiH,YAAA,QAAQ,EAAExB,QAAQ,KAAK,IAAxI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHD;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAMC;AAAK,UAAA,SAAS,EAAE,CAACH,CAAC,CAACf,YAAH,EAAiBe,CAAC,CAACZ,WAAnB,EAAgC8E,IAAhC,CAAqC,GAArC,CAAhB;AAAA,kCACC,QAAC,SAAD;AAAW,YAAA,SAAS,EAAE,CAAClE,CAAC,CAACV,YAAH,EAAiB4E,IAAjB,CAAsB,GAAtB,CAAtB;AAAkD,YAAA,SAAS,MAA3D;AAA4D,YAAA,YAAY,EAAC,KAAzE;AAA+E,YAAA,eAAe,EAAE;AAACE,cAAAA,MAAM,EAAE;AAAT,aAAhG;AAAgH,YAAA,UAAU,EAAE;AAACC,cAAAA,QAAQ,EAAE;AAAX,aAA5H;AAA+I,YAAA,OAAO,EAAC,UAAvJ;AAAkK,YAAA,KAAK,EAAE9D,kBAAkB,IAAI,EAA/L;AAAmM,YAAA,QAAQ,EAAE,kBAAAS,CAAC;AAAA,qBAAIR,qBAAqB,CAAC,aAAD,CAAzB;AAAA;AAA9M;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAI,YAAA,KAAK,EAAC,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAND,eAUC;AAAK,UAAA,SAAS,EAAE,CAACR,CAAC,CAACZ,WAAH,EAAgB8E,IAAhB,CAAqB,GAArB,CAAhB;AAAA,iCACC,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,WAAhB;AAA4B,YAAA,KAAK,EAAC,SAAlC;AAA4C,YAAA,SAAS,EAAE,CAAClE,CAAC,CAAC3B,UAAH,EAAe2B,CAAC,CAACL,UAAjB,EAA6BuE,IAA7B,CAAkC,GAAlC,CAAvD;AAA+F,YAAA,OAAO,EAAEd,sBAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBAVD,eAaC;AAAK,UAAA,SAAS,EAAE,CAACpD,CAAC,CAACZ,WAAH,EAAgB8E,IAAhB,CAAqB,GAArB,CAAhB;AAAA,kCACC,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAE;AAACC,cAAAA,KAAK,EAAE;AAAR,aAAf;AAAgC,YAAA,OAAO,EAAC,UAAxC;AAAmD,YAAA,KAAK,EAAExD,cAA1D;AAA0E,YAAA,QAAQ,EAAE,kBAAAK,CAAC;AAAA,qBAAIJ,iBAAiB,CAAC0D,MAAM,CAACtD,CAAC,CAACuD,MAAF,CAASxB,KAAV,CAAP,CAArB;AAAA,aAArF;AAAA,mCACC,QAAC,QAAD;AAAU,cAAA,KAAK,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBADD,eAIC,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,WAAhB;AAA4B,YAAA,KAAK,EAAC,SAAlC;AAA4C,YAAA,SAAS,EAAE,CAAC/C,CAAC,CAAC3B,UAAH,EAAe2B,CAAC,CAACL,UAAjB,EAA6BuE,IAA7B,CAAkC,GAAlC,CAAvD;AAA+F,YAAA,OAAO,EAAEb,iBAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJD,eAKC,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,WAAhB;AAA4B,YAAA,KAAK,EAAC,SAAlC;AAA4C,YAAA,SAAS,EAAE,CAACrD,CAAC,CAAC3B,UAAH,EAAe2B,CAAC,CAACL,UAAjB,EAA6BuE,IAA7B,CAAkC,GAAlC,CAAvD;AAA+F,YAAA,OAAO,EAAEX,iBAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbD,eAoBC;AAAK,UAAA,SAAS,EAAE,CAACvD,CAAC,CAACf,YAAH,EAAiBe,CAAC,CAACZ,WAAnB,EAAgC8E,IAAhC,CAAqC,GAArC,CAAhB;AAAA,iCACC,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,WAAhB;AAA4B,YAAA,KAAK,EAAC,SAAlC;AAA4C,YAAA,SAAS,EAAE,CAAClE,CAAC,CAAC3B,UAAH,EAAe2B,CAAC,CAACL,UAAjB,EAA6BuE,IAA7B,CAAkC,GAAlC,CAAvD;AAA+F,YAAA,OAAO,EAAE/B,QAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBApBD;AAAA;AAAA;AAAA;AAAA;AAAA,cAND;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,eAgCC,QAAC,QAAD;AAAU,MAAA,SAAS,EAAEnC,CAAC,CAAClB,QAAvB;AAAiC,MAAA,IAAI,EAAE+B,SAAvC;AAAA,6BACC,QAAC,gBAAD;AAAkB,QAAA,KAAK,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YAhCD;AAAA,kBADD;AAsCA;;GA9LQd,G;UACEpC,S;;;KADFoC,G;AAgMT,eAAeA,GAAf","sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport { AppBar, Toolbar, TextField, Typography, Button, Select, MenuItem, FormGroup, FormControlLabel, Checkbox } from '@material-ui/core';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport axios from 'axios';\nimport * as moment from 'moment-timezone';\n\nconst useStyles = makeStyles((t: Theme) => createStyles({\n\tapp: { },\n\ttoolbar: { },\n\ttitle: { margin: \"1em 1em 1em 0\", flexGrow: 1 },\n\tcontent: { padding: \"2em 0em 1em 0em\", backgroundColor: \"#F6F6F6\" },\n\texecButton: { minWidth: \"6em\", minHeight: \"3em\" },\n\tbarButton: { borderColor: t.palette.primary.contrastText, color: t.palette.primary.contrastText },\n\tbackdrop: { zIndex: t.zIndex.drawer + 1, color: '#fff' },\n\tattrAreaLine: { display: \"flex\", alignItems: \"center\" },\n\tcommandArea: {padding: \"0em 3em 1em 3em\", margin: \"0 0em 0em 0em\" },\n\texecButtonMini: { minWidth: \"4em\", minHeight: \"2em\" },\n\tbottomSpace1: { marginBottom: \"1em\" },\n\tbottomSpace1_5: { marginBottom: \"1.5em\" },\n\tbottomSpace2: { marginBottom: \"2em\" },\n\tbottomSpace3: { marginBottom: \"3em\" },\n\tleftSpace1: { marginLeft: \"2em\" },\n\trightSpace1: { marginRight: \"2em\" }\n}));\n\nfunction App() {\n\tconst c = useStyles();\n\tconst [message, setMessage] = useState(\"\");\n\tconst [userName, setUserName] = useState<string | null>(null);\n\tconst [userAttributeName, setUserAttributeName] = useState<string>(\"name.last\");\n\tconst [userAttributeValue, setUserAttributeValue] = useState<string | null>(null);\n\tconst [mailSessionLess, setMailSessionLess] = useState<boolean>(false);\n\t//const [notificationBody, setNotificationBody] = useState<string>(\"\");\n\tconst [qrLoginEventId, setQrLoginEventId] = useState<string>(\"event_A\");\n\tconst [isLoading, setLoading] = useState(false);\n\n\tconst getErrorMessageText = (e: any) => {\n\t\treturn (d => d ? `${d} : ${e}` : `${e}`)(e?.response?.data?.error);\n\t}\n\n\tconst loading = (execute: () => void, infinit?: boolean): (() => void) => {\n\t\treturn async () => {\n\t\t\tsetLoading(true);\n\t\t\ttry {\n\t\t\t\tawait new Promise(r => setTimeout(r, 200));\n\t\t\t\tawait execute();\n\t\t\t}\n\t\t\tfinally {\n\t\t\t\tif (!infinit) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t};\n\n\tconst onLogin = loading(async () => {\n\t\ttry {\n\t\t\tconst res = await axios.post(\"/api/authstart\", {}, {});\n\t\t\twindow.location.href = res.data.auth_url;\n\t\t}\n\t\tcatch (err) {\n\t\t\t// updateMessageText(getErrorMessageText(err));\n\t\t}\n\t}, true);\n\n\tconst clearLocalData = () => {\n\t\tsetUserName(null);\n\t};\n\n\tconst onLogout = loading(async () => {\n\t\tvar msg = null;\n\t\t\n\t\ttry {\n\t\t\tawait axios.post(\"/api/logout\", {}, {});\n\t\t}\n\t\tcatch (err) {\n\t\t\t// msg = getErrorMessageText(err);\n\t\t}\n\t\tclearLocalData();\n\t\t// updateMessageText(msg ? msg : \"Logout completed.\");\n\t});\n\n\tconst apiErrorAction = (err: any) => {\n\t\tconsole.log(err);\n\t\tif (err.response?.status === 401) { // 401 Unauthorized\n\t\t\tclearLocalData();\n\t\t\t// updateMessageText(\"ERROR : need to login again.\");\n\t\t}\n\t\telse {\n\t\t\t// updateMessageText(getErrorMessageText(err));\n\t\t}\n\t}\n\n\tconst readAttribute = (attrName: string, settter: (v: string) => void): (() => void) => { return loading(async () => {\n\t\ttry {\n\t\t\tconst param = { attr: attrName };\n\t\t\tconst res = await axios.post(\"/api/getUserAttribute\", param, {});\n\t\t\tconst value = res.data.result\n\t\t\tsettter(value);\n\t\t\t// updateMessageText(`SUCCESS : get ${attrName} -> ${value}`);\n\t\t}\n\t\tcatch (err) {\n\t\t\tapiErrorAction(err);\n\t\t}\n\t})};\n\n\tconst writeAttribute = (attrName: string, value: string | null, settter: (v: string) => void): (() => void) => { return loading(async () => {\n\t\ttry {\n\t\t\tconst param = { attr: attrName, value: value };\n\t\t\tconst res = await axios.post(\"/api/setUserAttribute\", param, {});\n\t\t\tconst resultValue = res.data.result;\n\t\t\tsettter(resultValue);\n\t\t\t// updateMessageText(`SUCCESS : set ${attrName} -> ${value} -> ${resultValue}`);\n\t\t}\n\t\tcatch (err) {\n\t\t\tapiErrorAction(err);\n\t\t}\n\t})};\n\n\tconst onReadUserAttributeAt = loading(async () => {\n\t\ttry {\n\t\t\tawait readAttribute(userAttributeName || \"\", setUserAttributeValue)();\n\t\t}\n\t\tcatch (err) {\n\t\t\tapiErrorAction(err);\n\t\t}\n\t});\n\n\tconst onWriteUserAttributeAt = loading(async () => {\n\t\ttry {\n\t\t\tawait writeAttribute(userAttributeName || \"\", userAttributeValue, setUserAttributeValue)();\n\t\t}\n\t\tcatch (err) {\n\t\t\tapiErrorAction(err);\n\t\t}\n\t});\n\n\tconst onSendQrLoginMail = loading(async () => {\n\t\ttry {\n\t\t\tconst param = { key: qrLoginEventId };\n\t\t\tconst res = await axios.post(\"/api/sendQrLoginMail\", param, {});\n\t\t\t// updateMessageText(`SUCCESS : send qr login mail : ${res.data?.result}`);\n\t\t}\n\t\tcatch (err) {\n\t\t\tapiErrorAction(err);\n\t\t}\n\t});\n\n\tconst onOpenQrLoginPage = () => {\n\t\twindow.open(\"/qrlogin\");\n\t};\n\n\tconst onUserSetting = () => {\n\t};\n\n\tconst onDebugPage = () => {\n\t\twindow.open(\"/debug/notification/list\");\n\t}\n\n\tuseEffect(() => {\n\t\tdocument.title = process.env.REACT_APP_APPLICATION_NAME_SHORT || \"\";\n\n\t\tloading(async () => {\n\t\t\ttry {\n\t\t\t\tconst res = await axios.post(\"/api/status\", {}, {});\n\t\n\t\t\t\tif (res.data?.login === true) {\n\t\t\t\t\tsetUserName(res.data?.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\tapiErrorAction(err);\n\t\t\t}\n\t\t})();\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<div className={c.app}>\n\t\t\t\t<AppBar position=\"static\">\n\t\t\t\t\t<Toolbar className={c.toolbar}>\n\t\t\t\t\t\t<Typography variant=\"h6\" className={c.title}>{process.env.REACT_APP_APPLICATION_NAME}</Typography>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<div className={c.content}>\n\t\t\t\t\t<div className={[c.attrAreaLine, c.commandArea].join(\" \")}>\n\t\t\t\t\t\t<TextField id=\"user_name\" style={{width: \"26em\"}} autoComplete=\"off\" InputLabelProps={{shrink: true}} InputProps={{readOnly: true}}  value={userName || \"\"}/>\n\t\t\t\t\t\t<h1>様</h1>\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={[c.execButton, c.leftSpace1].join(\" \")} onClick={onLogin} disabled={userName !== null}>Login</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={[c.attrAreaLine, c.commandArea].join(\" \")}>\n\t\t\t\t\t\t<TextField className={[c.bottomSpace1].join(\" \")} fullWidth autoComplete=\"off\" InputLabelProps={{shrink: true}} InputProps={{readOnly: false}} variant=\"outlined\" value={userAttributeValue || \"\"} onChange={e => setUserAttributeValue(\"temperature\")}/>\n\t\t\t\t\t\t<h1 color=\"primary\" >℃</h1>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={[c.commandArea].join(\" \")}>\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={[c.execButton, c.leftSpace1].join(\" \")} onClick={onWriteUserAttributeAt}>体温記録</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={[c.commandArea].join(\" \")}>\n\t\t\t\t\t\t<Select style={{width: \"12em\"}} variant=\"outlined\" value={qrLoginEventId} onChange={e => setQrLoginEventId(String(e.target.value))}>\n\t\t\t\t\t\t\t<MenuItem value=\"event_A\">テストイベントA</MenuItem>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={[c.execButton, c.leftSpace1].join(\" \")} onClick={onSendQrLoginMail}>QRログインメール送信</Button>\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={[c.execButton, c.leftSpace1].join(\" \")} onClick={onOpenQrLoginPage}>QRログイン画面を開く</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={[c.attrAreaLine, c.commandArea].join(\" \")}>\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={[c.execButton, c.leftSpace1].join(\" \")} onClick={onLogout}>Logout</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Backdrop className={c.backdrop} open={isLoading}>\n\t\t\t\t<CircularProgress color=\"inherit\" />\n\t\t\t</Backdrop>\n\t\t</>\n\t);\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}